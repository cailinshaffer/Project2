ga-cs-petfinder

<form method="POST" action="/pets/<%= display.pet %>/comment">
    <label for="name">User name:</label>
    <input id="name"type="text" placeholder="User name here..."name="name" required>

    <label for="comment">Comment:</label>
    <input id="comment" type="text" placeholder="Enter you comment" name="comment" required >
      
    <button type="submit">Add comment:</button>
</form>


      <a href="/pets/<%=pet.id%>"><h2><%= pet.name %></h2></a>

 

<h3>Other people said:</h3>

<div>
  <% pets.comments.forEach(comments =>{ %>
    <p> <%= comments.name %> has this to say:</p>
    <p><%= comments.content %></p>
  <% }) %>
</div>



<form action="/comments" method="POST">
        <div class="form-group">
          <label for="comments">comments</label>
          <input type="text" class="form-control" id="comments" name="comments"/>
        </div>
      
        <input type="submit" class="btn btn-primary">
      </form>

sequelize model:create --name pet --attributes type:string,age:integer,breed:string

sequelize model:create --name comment --attributes comment:string,petId:integer,userId:integer

<form action="/pets/results" method="GET">
    <p>Pet Type: <%= pets.type%></p>
    
</form>


require('dotenv').config() 
const axios = require('axios')
const API_KEY = process.env.API_KEY

app.get('/', async (req,res) => {
    try {
        const baseUrl = 'https://api.petfinder.com/v2/oauth2/token'
        console.log(bsaeUrl)
        cosnt response = await axios.get(baseUrl)
        res.json(response.data)
    } catch (error) {
        // console log the specifics of the error, but keep them private
        console.log('ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥', error)
        // generic interal server error code, message to the client that something bad happened
        res.status(500).send('internal server error')
        
    }
})





const axios = require('axios')
const CLIENT_ID = process.env.CLIENT_ID
const SECRET_ID = process.env.SECRET_ID

async function fetchPets() {
    try {
        const body = {
            'grant_type': 'client_credentials',
            'client_id': CLIENT_ID,
            'client_secret': SECRET
        }

        // https://api.petfinder.com/v2/oauth2/token
        const tokenUrl = 'https://api.petfinder.com/v2/oauth2/token'
        const tokenResponse = await axios.post(tokenUrl, body)
        console.log('bearer token reponse:', tokenResponse.data)

        const options = {
            headers: {
                Authorization: `Bearer ${tokenResponse.data.access_token}`
            }
        }

        const dataResponse = await axios.get('https://api.petfinder.com/v2/animals?type=dog&page=2', options)

        console.log('data response:', dataResponse.data)
    } catch (err) {
        console.log(err)
    }
}

fetchPets()